<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Coordinate Reference System | Geospatial Analysis in Ecology</title>
<meta name="author" content="Akira Terui">
<meta name="description" content="In this chapter, we will work with the tidyverse and sf packages. Before starting any exercises, make sure to run the following code. library(tidyverse) library(sf)  2.1 Getting Started What is...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 2 Coordinate Reference System | Geospatial Analysis in Ecology">
<meta property="og:type" content="book">
<meta property="og:description" content="In this chapter, we will work with the tidyverse and sf packages. Before starting any exercises, make sure to run the following code. library(tidyverse) library(sf)  2.1 Getting Started What is...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Coordinate Reference System | Geospatial Analysis in Ecology">
<meta name="twitter:description" content="In this chapter, we will work with the tidyverse and sf packages. Before starting any exercises, make sure to run the following code. library(tidyverse) library(sf)  2.1 Getting Started What is...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Geospatial Analysis in Ecology</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> About</a></li>
<li class="book-part">GIS Basic</li>
<li><a class="active" href="coordinate-reference-system.html"><span class="header-section-number">2</span> Coordinate Reference System</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="coordinate-reference-system" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Coordinate Reference System<a class="anchor" aria-label="anchor" href="#coordinate-reference-system"><i class="fas fa-link"></i></a>
</h1>
<p>In this chapter, we will work with the <code>tidyverse</code> and <code>sf</code> packages.
Before starting any exercises, make sure to run the following code.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span></code></pre></div>
<div id="getting-started" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"><i class="fas fa-link"></i></a>
</h2>
<p>What is Coordinate Reference System (CRS)?
CRS defines how spatial data are projected onto the Earth’s surface—essentially, how locations on the curved Earth are represented on a flat map.
Understanding CRS is essential for working with geospatial data accurately.</p>
<p>To get a sense of how CRS works in practice, let’s explore a dataset on fish distributions from North Carolina.
This regional dataset contains georeferenced sampling sites using <a href="https://www.latlong.net/">longitude and latitude</a> coordinates.</p>
<p>We’ll start by reading the dataset from the data sub-directory in your R project:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_fish</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"data/data_fish_nc.csv"</span><span class="op">)</span></span></code></pre></div>
<p>This dataset contains the following columns:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">Column</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">site_id</td>
<td align="left">Site name</td>
</tr>
<tr class="even">
<td align="left">year</td>
<td align="left">Sampling year</td>
</tr>
<tr class="odd">
<td align="left">date</td>
<td align="left">Sampling date</td>
</tr>
<tr class="even">
<td align="left">lon</td>
<td align="left">Longitude</td>
</tr>
<tr class="odd">
<td align="left">lat</td>
<td align="left">Latitude</td>
</tr>
<tr class="even">
<td align="left">scientific_name</td>
<td align="left">Scientific name</td>
</tr>
<tr class="odd">
<td align="left">common_name</td>
<td align="left">Common name</td>
</tr>
<tr class="even">
<td align="left">count</td>
<td align="left">Number of fish collected</td>
</tr>
</tbody>
</table></div>
<p>Let’s take a quick view of the dataframe:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">df_fish</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 13,597 × 8
##    site_id  year date         lon   lat scientific_name        common_name count
##    &lt;chr&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                  &lt;chr&gt;       &lt;dbl&gt;
##  1 af1      2015 2015-06-16 -82.0  35.5 Lepomis cyanellus      Green sunf…     3
##  2 af1      2015 2015-06-16 -82.0  35.5 Noturus insignis       Margined m…     6
##  3 af1      2015 2015-06-16 -82.0  35.5 Notropis scepticus     Sandbar sh…     2
##  4 af1      2015 2015-06-16 -82.0  35.5 Semotilus atromaculat… Creek chub     16
##  5 af1      2015 2015-06-16 -82.0  35.5 Lepomis macrochirus    Bluegill        4
##  6 af1      2015 2015-06-16 -82.0  35.5 Ameiurus platycephalus Flat bullh…     1
##  7 af1      2015 2015-06-16 -82.0  35.5 Hybopsis hypsinotus    Highback c…    15
##  8 af1      2015 2015-06-16 -82.0  35.5 Lepomis auritus        Redbreast …    24
##  9 af1      2015 2015-06-16 -82.0  35.5 Moxostoma rupiscartes  Striped ju…    34
## 10 af1      2015 2015-06-16 -82.0  35.5 Nocomis leptocephalus  Bluehead c…   176
## # ℹ 13,587 more rows</code></pre>
<p>Since this dataframe contains longitude and latitude columns, we can make this data as <strong>georeferenced</strong>.
To do so, we’ll need to use functions from <code>sf</code> package, which makes the mere numbers of coordinates linked to CRS of your choice.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sf_fish</span> <span class="op">&lt;-</span> <span class="va">df_fish</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span>coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>,</span>
<span>           crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">sf_fish</span><span class="op">)</span></span></code></pre></div>
<pre><code>## Simple feature collection with 13597 features and 6 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -84.28018 ymin: 33.95222 xmax: -76.83904 ymax: 36.56712
## Geodetic CRS:  WGS 84
## # A tibble: 13,597 × 7
##    site_id  year date       scientific_name         common_name       count
##  * &lt;chr&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;                   &lt;chr&gt;             &lt;dbl&gt;
##  1 af1      2015 2015-06-16 Lepomis cyanellus       Green sunfish         3
##  2 af1      2015 2015-06-16 Noturus insignis        Margined madtom       6
##  3 af1      2015 2015-06-16 Notropis scepticus      Sandbar shiner        2
##  4 af1      2015 2015-06-16 Semotilus atromaculatus Creek chub           16
##  5 af1      2015 2015-06-16 Lepomis macrochirus     Bluegill              4
##  6 af1      2015 2015-06-16 Ameiurus platycephalus  Flat bullhead         1
##  7 af1      2015 2015-06-16 Hybopsis hypsinotus     Highback chub        15
##  8 af1      2015 2015-06-16 Lepomis auritus         Redbreast sunfish    24
##  9 af1      2015 2015-06-16 Moxostoma rupiscartes   Striped jumprock     34
## 10 af1      2015 2015-06-16 Nocomis leptocephalus   Bluehead chub       176
## # ℹ 13,587 more rows
## # ℹ 1 more variable: geometry &lt;POINT [°]&gt;</code></pre>
</div>
<div id="geodetic-vs.-projected" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Geodetic vs. Projected<a class="anchor" aria-label="anchor" href="#geodetic-vs.-projected"><i class="fas fa-link"></i></a>
</h2>
<p>Coordinate Reference Systems (CRS) are essential for accurately representing spatial data on the Earth’s surface. Broadly, CRS fall into two categories: <strong>geodetic (geographic)</strong> and <strong>projected</strong>. A <em>geodetic CRS</em> models the Earth as a 3D ellipsoid and represents locations using angular coordinates — latitude and longitude. These systems are ideal for global positioning and mapping where preserving true geographic coordinates is important. However, because they represent curved surfaces on a spherical model, they are not suitable for accurate distance or area calculations on flat maps. Common examples of <strong>geodetic CRS</strong> include WGS 84 (<code>EPSG:4326</code>), which is used by GPS and most global datasets, and NAD83 (<code>EPSG:4269</code>), which is widely used in North America.</p>
<p>In contrast, a <em>projected CRS</em> transforms geographic coordinates onto a 2D surface using mathematical projections. This allows for accurate measurements of distance, area, or direction in localized regions. Projected systems distort some properties (e.g., shape, area, or scale) but can be tailored for specific mapping needs. Examples of <strong>projected CRS</strong> include UTM zones (e.g., UTM Zone 17N, <code>EPSG:26917</code>) and State Plane systems like <strong>North Carolina State Plane (EPSG:32119)</strong>, which are optimized for regional accuracy and are commonly used in government or environmental datasets.</p>
<div class="inline-table"><table style="width:99%;" class="table table-sm">
<caption>Comparison of geodetic and projected CRS.</caption>
<colgroup>
<col width="7%">
<col width="41%">
<col width="23%">
<col width="26%">
</colgroup>
<thead><tr class="header">
<th>CRS Type</th>
<th>Unit</th>
<th>Advantages</th>
<th>Disadvantages</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Geodetic</strong></td>
<td>
<strong>Latitude and longitude</strong> on an ellipsoidal model of Earth</td>
<td>
<p>Global coverage (e.g., GPS)</p>
<p>Standard for data exchange and web maps</p>
<p>Easy to interpret (lat/lon)</p>
</td>
<td>
<p><strong>NOT</strong> for distance, area, or direction calculations</p>
<p>Curved surface not ideal for flat map operations</p>
</td>
</tr>
<tr class="even">
<td><strong>Projected</strong></td>
<td>
<strong>X/Y Cartesian coordinates</strong> on a flat surface derived from a projection of the Earth</td>
<td>
<p>Enables accurate measurements (distance, area)</p>
<p>Optimized for regional analysis</p>
<p>Supports specialized map projections</p>
</td>
<td>
<p>Distorts some geographic properties</p>
<p>Limited to specific regions</p>
<p>Must choose the right projection for your purpose</p>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html"><span class="header-section-number">1</span> About</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#coordinate-reference-system"><span class="header-section-number">2</span> Coordinate Reference System</a></li>
<li><a class="nav-link" href="#getting-started"><span class="header-section-number">2.1</span> Getting Started</a></li>
<li><a class="nav-link" href="#geodetic-vs.-projected"><span class="header-section-number">2.2</span> Geodetic vs. Projected</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Geospatial Analysis in Ecology</strong>" was written by Akira Terui. It was last built on 2025-07-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
